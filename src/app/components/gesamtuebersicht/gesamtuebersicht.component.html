<div id="gesamtuebersicht">

  <!--<button (click)="leherkuerzelToggle()">Lehrerkuerzel {{buttontext}}</button>-->

  <h1>Gesamtplan</h1>

  <div class="buttonreihe noprint wochentagButton">
    <button class="noprint" (click)="wochentagWahl('Montag')">Montag</button>
    <button class="noprint" (click)="wochentagWahl('Dienstag')">Dienstag</button>
    <button class="noprint" (click)="wochentagWahl('Mittwoch')">Mittwoch</button>
    <button class="noprint" (click)="wochentagWahl('Donnerstag')">Donnerstag</button>
    <button class="noprint" (click)="wochentagWahl('Freitag')"> Freitag</button>
  </div>


  <h2>{{wochenTagauswahl}}</h2>
  <div id="tabelle">

    <ng-container *ngIf="tagesPlan">
      <div class="klassenspalte1">
        <div class="th klasse">  </div>
        <div class="mb-2">
          <div class="fakebutton"> <div>1</div></div>
          <div class="fakebutton"> <div>2</div></div>
          <div class="fakebutton"> <div>3</div></div>
          <div class="fakebutton"> <div>4</div></div>
          <div class="fakebutton"> <div>5</div></div>
          <div class="fakebutton"> <div>6</div></div>
          <div class="fakebutton"> <div>7</div></div>
          <div class="fakebutton"> <div>8</div></div>
          <div class="fakebutton"> <div>9</div></div>
          <div class="fakebutton"> <div>10</div></div>
          <div class="fakebutton"> <div>11</div></div>
        </div>
      </div>
      <!-- klassenspalte 1,2,3,4,5,6,7,8,9,10,11,12,13. Klasse sind rows (im css als spalte angezeigt)-->
      <div class="klassenspalte" *ngFor="let klasse of tagesPlan index as r">
        <div class="th klasse">{{r+1}} ({{klassengesamtstunden(r+1)}}) </div>
        <div class="mb-2">
          <button *ngFor="let zelle of klasse index as std" triggers="click" [autoClose]="true" class="dropButton "
            [ngbTooltip]="Lehrer" placement="bottom" (click)="cellKlick($event,std,r+1)">

            <ng-container *ngIf="zellenInhalt(r+1,std)[0]">
              <div class="{{hintergrund(zellenInhalt(r+1,std)[0])}}">
                <div class="boxi">
                  <div class="fachItem" *ngFor="let ele of zellenInhalt(r+1,std);index as i">
                    <div *ngIf="i==0||(i>0&&ele.fach!=zellenInhalt(r+1,std)[i-1].fach)">
                      {{ ele.fach}}
                    </div>

                    <ng-container
                      *ngIf="ele.fach!='StartUp'&&ele.fach!='HU'&&ele.fach!='Schiene'||ele.klasse<=8; else ESR">
                      <ng-container *ngFor="let lehr of ele.lehrer">
                        <div class="{{marked(lehr)}} {{duplicates(lehr ,std,ele.fach)}}">
                          {{lehr.kuerzel }}
                        </div>
                      </ng-container>
                    </ng-container>

                    <ng-template #ESR>
                      <ng-container *ngFor="let lehr of ele.lehrer">
                        <ng-container *ngIf="lehr!=null">
                          <ng-container *ngIf="marked(lehr)=='blueback'||duplicates(lehr,std,ele.fach)=='error'">
                          <div class=" {{marked(lehr)}} {{duplicates(lehr ,std,ele.fach)}}">
                            
                              {{lehr.kuerzel }}
                        
                          </div>
                        </ng-container>
                        </ng-container>
                      </ng-container>
                    </ng-template>
                  </div>
                </div>
              </div>
            </ng-container>





            <ng-template #Lehrer>
              <ng-container *ngFor="let elementt of tabellensortierung(r+1) index as stundenI">
                <div id="toggle-item-Container" *ngIf="elementt!=undefined" (click)="togglezellenClick(std,elementt)">
                  <div class="toggle-items {{duplicateToggle(std,elementt)}}">
                    {{elementt?elementt.fach:"kein Fach"}}
                  </div>
                  <div class="toggle-items error">
                    {{elementt?elementt.uebstunde:"no"}}
                  </div>
                  <div class="toggle-items ok">
                    <ng-container *ngIf="elementt.uebstunde-berechnungAktuelleStunden(elementt)==0; else NICHGLEICH">
                      <div class="gruen">
                        {{elementt?berechnungAktuelleStunden(elementt): "höö"}}
                      </div>
                    </ng-container>
                    <ng-template #NICHGLEICH>
                      {{elementt?berechnungAktuelleStunden(elementt): "no"}}
                    </ng-template>
                  </div>
                  <div class="toggle-items">
                    <ng-container *ngIf="elementt.fach!='HU'&&elementt.fach!='StartUp'&&elementt.fach!='Schiene'">
                      <ng-container *ngFor="let le of elementt.lehrer">
                        {{le?le.kuerzel:"Lehrer"}}
                      </ng-container>
                    </ng-container>
                  </div>
                  <div class="toggle-items">
                    <ng-container *ngIf="elementt.zuweisung.uebstunde">
                      <span *ngFor="let stund of elementt.zuweisung.uebstunde">
                        {{stund.stunde+1}}
                      </span>
                    </ng-container>

                  </div>
                </div>
              </ng-container>
            </ng-template>

          </button>
        </div>
   
      </div>
    </ng-container>
  </div>


</div>
<app-stundenplan></app-stundenplan>
<app-einzelplan></app-einzelplan>
<!--
   
-->
